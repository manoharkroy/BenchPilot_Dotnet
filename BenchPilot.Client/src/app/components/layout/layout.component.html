<div class="layout-container">
  <!-- Mobile sidebar overlay -->
  <div class="mobile-overlay" [class.show]="sidebarOpen" (click)="toggleSidebar()"></div>

  <!-- Sidebar -->
  <mat-sidenav-container class="sidenav-container">
    <mat-sidenav 
      #drawer 
      class="sidenav" 
      fixedInViewport="true"
      [attr.role]="'navigation'"
      [mode]="'over'"
      [opened]="sidebarOpen">
      
      <div class="sidenav-header">
        <h1 class="logo">BenchPilot</h1>
      </div>
      
      <mat-nav-list class="nav-list">
        <a 
          mat-list-item 
          *ngFor="let item of navigation"
          [class.active]="currentPage === item.id"
          (click)="navigateTo(item.route, item.id)">
          <mat-icon matListIcon>{{item.icon}}</mat-icon>
          <span matLine>{{item.name}}</span>
        </a>
      </mat-nav-list>
    </mat-sidenav>

    <!-- Main content -->
    <mat-sidenav-content class="main-content">
      <!-- Top toolbar -->
      <mat-toolbar class="toolbar" color="primary">
        <button
          type="button"
          aria-label="Toggle sidenav"
          mat-icon-button
          (click)="toggleSidebar()"
          class="menu-button">
          <mat-icon aria-label="Side nav toggle icon">menu</mat-icon>
        </button>

        <!-- Desktop logo -->
        <span class="desktop-logo">BenchPilot</span>

        <!-- Search bar -->
        <div class="search-container">
          <mat-form-field appearance="outline" class="search-field">
            <mat-icon matPrefix>search</mat-icon>
            <input matInput placeholder="Search..." />
          </mat-form-field>
        </div>

        <span class="spacer"></span>

        <!-- Actions -->
        <button mat-raised-button color="accent" class="quick-action-btn">
          <mat-icon>add</mat-icon>
          <span class="btn-text">Quick Action</span>
        </button>

        <button mat-icon-button [matMenuTriggerFor]="notificationMenu">
          <mat-icon matBadge="3" matBadgeColor="warn">notifications</mat-icon>
        </button>

        <mat-menu #notificationMenu="matMenu">
          <button mat-menu-item>
            <mat-icon>mail</mat-icon>
            <span>New email from TechCorp</span>
          </button>
          <button mat-menu-item>
            <mat-icon>psychology</mat-icon>
            <span>AI found 5 new matches</span>
          </button>
          <button mat-menu-item>
            <mat-icon>send</mat-icon>
            <span>Submission sent successfully</span>
          </button>
        </mat-menu>

        <button mat-icon-button [matMenuTriggerFor]="userMenu">
          <div class="user-avatar">JD</div>
        </button>

        <mat-menu #userMenu="matMenu">
          <button mat-menu-item>
            <mat-icon>person</mat-icon>
            <span>Profile</span>
          </button>
          <button mat-menu-item>
            <mat-icon>settings</mat-icon>
            <span>Settings</span>
          </button>
          <mat-divider></mat-divider>
          <button mat-menu-item>
            <mat-icon>logout</mat-icon>
            <span>Logout</span>
          </button>
        </mat-menu>
      </mat-toolbar>

      <!-- Page content -->
      <div class="page-content">
        <router-outlet></router-outlet>
      </div>
    </mat-sidenav-content>
  </mat-sidenav-container>
</div>